<!DOCTYPE html>
<html lang="{{ with .Site.LanguageCode }}{{ . }}{{ else }}en-US{{ end }}">

<head>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  {{- partial "favicon.html" . -}}
  <title>{{- block "title" . }}{{ with .Title }}{{ . }} | {{ end }}{{ .Site.Title }}{{- end }}</title>

  {{- partial "seo_tags.html" . -}}
  <meta name="referrer" content="no-referrer-when-downgrade" />
<script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  {{ with .OutputFormats.Get "rss" -}}
  {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
  {{ end -}}
  {{ $style := resources.Get "css/main.css" | minify | fingerprint }}
  <link rel="stylesheet" href="{{ $style.Permalink }}">
  {{ $syntaxHighlight := resources.Get "css/syntax.css" | minify | fingerprint }}
  <link rel="stylesheet" href="{{ $syntaxHighlight.Permalink }}">
  <script>
      let darkTheme = sessionStorage.getItem("dark_theme");
      if(darkTheme) {
        document.querySelector("html").setAttribute("class","dark-theme")
      }
  </script>
</head>
<body>
  <header>
    {{- partial "header.html" . -}}
  </header>
    {{- block "main" . }}{{- end }}
  <footer>
    {{- partial "footer.html" . -}}
  </footer>
    {{- partial "float_menu.html" . -}}
</body>
{{ $toggleTheme := resources.Get "js/toggle-theme.js" | minify | fingerprint}}
<script src="{{ $toggleTheme.Permalink }}"></script>
</html>
